https://www.rabbitmq.com/uri-query-parameters.html

amqps://myhost?cacertfile=/path/to/ca_certificate.pem
  &certfile=/path/to/client_certificate.pem
  &keyfile=/path/to/client_key.pem
  &verify=verify_peer
  &server_name_indication=myhost

Only of use for the amqps scheme and used to configure verification of the server's x509 (TLS) certificate. Note: 
It is highly recommended to use both values. See the TLS guide to learn more about TLS support in RabbitMQ in general and specifically the Erlang client section.



2 OpenSSL client certificate
2.1 Move OpenSSL to VM1 generate CA TestCA2 and client sertificate
2.2:
* Use new client certficate on vm1
* Copy client CA to vm2, since VM1 has server CA, {ssl_options, [{cacertfile,"C:\\testca\\ca_certificate.pem"},
* Set up client equal to server
# mtls

https://cjshelton.github.io/blog/2019/12/18/rabbitmq-client-certificate-authentication.html

* Client Authentication in RabbitMQ
* Certificate Authentication
* Using SSL for Client Authentication 
* Server Side Changes, rabbitmq-plugins enable rabbitmq_auth_mechanism_ssl

* Setting up Client Certificate Authentication is straight forward once SSL has been configured. !!!!!!!!!! 

  It works on the principle of having password-less user logins, and clients authenticating with the broker by providing the username as the CN or SAN on the certificate they supply. Passwords are not required, as clients who posses a trusted certificate are implicitly authenticated.
* In order to be able to authenticate with the broker using SSL, 
  the certificate which the client presents on connection must have the CN or SAN set to the username of the password-less user created previously. 

https://github.com/rabbitmq/rabbitmq-auth-mechanism-ssl/blob/v3.7.x/README.md



3 Read on shovel properties, view 37 server

https://github.com/rabbitmq/rabbitmq-server/blob/master/deps/rabbit/docs/advanced.config.example

%% Rather than specifying some values per-shovel, you can specify
   %% them for all shovels here.
